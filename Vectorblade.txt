 v1.02 to test

;
;
;
;
;
;
;
done:
    Something odd that I noticed: Trophees â€œGreedyâ€ and â€œOfficer Rank 4â€ werenâ€™t assigned for some reason I donâ€™t know. 
    Perhaps itâ€™s because I continued a saved game (but I thought I didnâ€™t use a saved game at that time)?
->  tested, worked for me!

done:
    What? Prohibition?
    That completely disrupts my current playing strategy to quickly get some cash ðŸ™
    At least you could have set it to 18 or 21, as depending on where you live one is legally entitled to buy alcohol from 18 or 21 onwards!
    Cheers, and enjoy your roadtrip,
    Peer
-> drunken after level 21, autofire after level 75

done: 
    No full intro after calibration
    Problem persists: There is no full intro after the very first calibration.
->  actually, the original problem WAS fixed - only thing that was left... the
    button press and thefollowing recognition of the button was passed on to the title
    so if you pressed the button a fraction to long - the button press would be recognized by the title also and 
    than continue directly to the main screen

done: 
    Statistic screen: Order S-B-R
    Currently, in the statistic screen, speed, rate, bullets is displayed. The order of these three values is different to the order in the shop, which is S-B-R.
    Suggestion: Use same order for SBR entries in both statistic screen and shop, i.e. S-B-R.
->  rearranged info in pause screen

done: 
    Statistic screen: Order Cash > Lifes
    Currently, in the statistic screen, cash is listed before lifes
    Suggestion: Life is more important than cash. Therefore Iâ€™d suggest to list â€œlifesâ€ before â€œcashâ€.

done:
    Statistic screen: More lines per page
    Currently, only four lines are displayed in the statistic screens per page. â€œShots firedâ€ and â€œEnemies shotâ€ are split into two pages. The same applies for S-B-R which are also split into two pages.
    Suggestion: To me it looks as if there is space for displaying five (or even more lines) per screen. When using five lines per screen, more related entries would be one one page.
->  there is not time enough to display more lines "wobble free"
    The shots/fired are now on the same page

not done:
    Level title: Display duration
    Currently, the level title appears only for a very short time.
    Suggestion: Display the level title a little bit longer so that the user has the chance to read the level title before fighting on.
->  I don't won't to slow down the "level transition", the level transition now
    takes exactly as long as before introducing the title.
    Actually the titles are displayed a quarter of a second "too long" already!










; done: (toTest) diamond storm result "shake"

; done: (totest) nach wheel laser absturz (saving)

; done: (to test) when continuous save, in options still asked idf you wanna load

; idea? some bomnus drop onyl from level X onward?
; yes ->
; cash double only above level 25
; diamond bomb only above level 50
; drunken only above level 75


; idea? possibility to downgrade a weapon? WITHOUT shoup?
; no ->
; -> VERY rare MALUS Bonus
; no space left, to lazy to optimize
; good place tooptimize is everything related to string printing
; workaround - get tripple shot bonus drop, with that you can downgrade "always"


done: NoWheel in Hardcore + save

done: working now! Save game does not PLAY back

done: shop selected NOT brighter yet

done: bullet in shop?= Ok, with Save this is 9 (one shorter)

done: caught "equip" in wheel, wheel was not MAX_PLAYERSHOT_OBJECTS but MAX_SHOT_OBJECTS,
      therefor it was calced wrong 
      add bullets in shop - does not add
      bullets also not displayed with the correct hight
      bullets are obviousely full!
done: CRASH in Options menu if staying to llong! Was saving only up to b000

done: no title in BOSS level

done: in pause keine Disk anzeigen bei SAVIE

done: crash could happen when entering "EXTRA" - wheel, stack was not initialized, entered with "sound" jingle of EXTRA

done: achievement minestorm backwards - not earned?
      drunken was decreased in meinstorm result loop!




----
done: music/spherical sounds
    Now i know that time is counted (and the bytes too!), but about â€œthe candleâ€ after the last life: 
    can we envisage a short music during this sequence (or/and few words with the VecVox)?

done: add a little "jingle", when EXTRA is collected in the correct order

done: Warning LAST ship, when in warp failure

done: Hardcore > wheel -> bombs secret > black screen!
      double definition of a replace statement, JMP #0

done: Hardcore > wheel -> score > black screen!
      wrong bank off add score reference

done:
    boss death ->shots spawn wildly="again" (only: non autofire)
    delete all player shots upon death?

done: Blade achievment is rewarded after a saved game!
      -> to test

done: 
  -> added/ changed some "titles" (Peer)

done: diamond super, no music??? flash
      -> music was accidently removed with while adding VecFever compataibilty

done: danger last live - NOT in hardmode

not done: (no time left - big images - actually only boss 4, all others could have move "ongoing"!)
    Boss anncouncements: Some stars?
    Currently, the images announcing the bosses look a bit clean.
    Suggestion: Some stars might be introduced.

not done: 
    Intro: Scrolling text with small dot
    In the intro with the scrolling text, there is a small dot on the left side of the â€œscreenâ€ that goes up and down. Looks like a small bug.
    -> at one stage I had that with one of my vectrex too, and corrected it (a long time ago)
       I can't remember what I did, and I have no Vectrex to test it on - so I just don't know how to handle that :-(.

done:
    Minestorm: No merchant
    Title of level 5 is â€œMerchant followsâ€. I played level 5 and caught a minestorm bonus. After the minestorm, there was no merchant. 
    It was not a feature - but it happens :-), anyway I changed the text because of hardcore mode - there ARE not merchants in hardcore.

not done: 
    Game over screen: Vertical alignment of numbers
    In the game over screen, the vertical alignment of the number doesnâ€™t look right to me. E.g. â€œRank Multiplier: x 3â€ the 3 is a bit too much at the top. 
    Perhaps itâ€™s just the font that is used and thus normal.
    -> it very slightly looks so, yes
       but both texts (header line and number) are positioned exactly on the same y position code wise.
       Therefor I hesitate to change it, since on other vectrex it might look different, and changes might look worse than...

done: 
    Merchant/Shop: Intensity
    Intensity is the color of the Vectrex. Currently, within the shop it seems that intensity isnâ€™t used at all.
    Suggestion: Use varying itensity (e.g. selected item, merchant, â€¦).
    -> first: the items shown are different intensities (you scroll)
       second: change the intensity of the merchant image

done: please test if you "like" it - for I am dubious
    Before your next RC3 i have just a little question/suggestion; i remember it was technically complicated to display the number 
    of ships playing the game without side effects.
    But what do you think about the possibility to give the information of the last ship (for instance a message saying "Last Ship!") 
    under the specific message you display before each level?
    -> there is now a warning:  "DANGER! LAST LIVE ACTIVE!"

done: Game over: Slower Score calculation
    At the end of the game the score is calculated. The speed of the calculation has been reduced, already, but itâ€™s still very difficult to see what is calculated.
    Suggestion: I think after half an hour of playing itâ€™s o.k. to see oneâ€™s score calculated for some seconds. 
    Itâ€™s like the farmer who brings in the harvest that he has sown in spring. Make score calculation even slower. 
    Perhaps wait a short time inbetween various calculation factors (rate, secrets, â€¦).
    -> the "count down" is half the speed now

done: Bigest loss got with 3 -> two shot? - was a debug value thing of "inGameSecrets"

done: Screen wobbles in intro with $85 size
      -> performance enhanced, up to $85 it is ok now

done?: Status in shop: Adding more money: when the level is high enough  it goes down to the bottom (and then goes up again).
       -> to be watched

done: Hmm, from what I can see this bug isn't fixed, yet. After calibration the main menu is shown - 
      the Vectorblade logo with the fighter is still missing. Could you please check, Chris!
      -> shozld REALLY be fixed now :-)

done: spelling mistakes in title texts and 3-4 new references (Peer)

done: From my point of view this looks better. Spaceship and the animated "flame" of the spaceship could also vary in intensity, 
      a bright "flame" would look cool. (We testers never run out of new ideas and requests... ;-) )
      -> from 5f to 7f, acceleration particles only

done: shop man, bottom part

done: achievements that award "speed" are doubled in value (that is not shown in the achievement list)


-----


done: How many points / coins (if any) are scored when collecting the bottle? 
      300 money

done: DRUNKARD 3x immunity to booze for the rest of the current game

done: No full intro after calibration
      Currently, when starting Vectorblade for the very first time, the calibration is shown. After calibration, there is no Vectorblade intro (Vectorblade logo with spaceship).
      Suggestion: Display Vector blade intro (Vectorblade logo with spaceship) after very first calibration.

done: Scroll text: Spacing
      Currently, the spacing of the scroll text is a bit inconsistent. In most cases, there is a title (e.g. GREETINGS TO), then an empty line followed by the names. After "SPECIAL THANKS.." there are two empty lines.
      Suggestion: One empty line after "SPECIAL THANKS.."

done: 
     Scroll text: LESS BULLET
     In the menu screen, all the bonus and malus are described. Currently, it says "LESS BULLET". I wonder whether this is correct English.
     Suggestion: Change "LESS BULLET" to "LESS BULLETS".

Below are some suggestions. These are just some minor suggestions. Beta 56 of Vectorblade is very cool and shiny â€“ no need at all to consider these suggestions.

done: 3f instead of 5f (BOSS 4 stayed the same!)
    Boss announcements: Intensity
    The images announcing the bosses are really good. Currently, the playerâ€™s ship and the boss differ very little in intensity.
    Suggestion: Use lower intensity for the bosses. This might increase the depth of the image.


not done: nice idea - but in later stages bonuses get more rare, so the effect would cancel itself out with that
â€œEXTRAâ€: Remove letters
    Currently, you collect the EXTRA letters. Collecting a specific letter for a second time has no effect.
    Suggestion: Picking up a letter for a second time might remove it from the EXTRA collection.
    Please note that Iâ€™m not sure whether this would be an improvement to the game or not. 
    This will make collecting letters more difficult. 
    And it might be enerving to loose letters over and over, again. 
    But this might be an extra challenge which requires even more attention on the player side. 
    Perhaps something for the higher difficulty levels?

done: hardcore removed, "merchenat is coming"

done: hardcode removed: money as wheel reward

done: hardcore cash as achievement 

done: change Jacek to Selanski




done: while the player explodes, the "lost" bonus are shot in the air
      player can catch (some) of them with the next life (preserve bonus!s)

done: Alien Attacks in intro only from HARD on.

done: Autofire in Hardcore MUST drop - otherwise LASR is super bad!

done: Level "intro" text on start of each level

done: in hardcore minestorm -> no money

done: Instead of the silence playing the â€œDiamond Storm" sequence, 
  some sounds would be appreciated (especially reaching the biggest diamond)







NO LIVE SHOWN:
     DEATH sequence shows number of lives left!

NO additional rewards
    - Another (or instead) ï¿½ reward could be:
      enable: enter shop after a death

    - Shop after death -> as an achievement?
    â€“ either: enable â€“ teleport back to the last shop
    â€“ or: enable â€“ do not teleport at all, but allow a shop enter



;- It might be a good idea to display the number of remaining ships whenever the player looses a ship. 
;  (I know that button 3 opens the status screen which contains this info).
; - four shot scoopy - left scoopy shots "down"
; - different game Over scene
; - beta tester honoration scene




; to watch out for:
; - happened again - no bonus drop on bigy death!
; ??? 3 * -S not wokring good  -after 4?


; optimize thoughts_
; - enemies that are hit (flash) put last in queue so they don't "disturb" output?
; - black whole and wheel circle data is exactly the same 512 byte, one in bank 1 the other in bank 2 - WASTED memory!
; - Reduce RAM, by implementing "NEXT_OBJECT" with only one byte
;
;













; Free laser with level 2 only if  have laser?
; dodger can save about 150 byte
;     it could be more "constructed!"
; wheel Strings (non rotating) wrong size
; emulator still not 100% insync!
; about level 18,19,20
; more ranklevels
;    squadron commander
;    fleet commander
;    space marshal
;    galaxy commander

do extra behavious with y displacement, 
Test for "new" behaviour withing moveto
- shots "always
- fighter always
- mother and saurcer and other biggies never
- bugs never

done: a) different fighter ship
done: boss fight no scoopy, secret wheel got  now and than a "tripple" shot from an "imaginary" scoopy!!! (level 50) - died once on 50, self have a double shot
done: sound effect stuck - something with immune? Or a pickup that gets "destracted?"


timed minestorm runs? (more money? extra rewards?)
  new minestorm mode - how far can you go!


- some times letters (EXTRA) are not displayed (STILL) - direct for einem Boss fight? eingesammelt?
  letter collected while "in between" levels - does not "home" the letter - and it is not displayed!
  -> just correct each level start???


Possible achievement
: weapon drop upgrade! 1->2, 2->3 (two times possible)




; done: to test boss 2 (sinistar) shots that go OOB (above) can hit sinisatr, if he is on the bottome!
; done: again!!! scoopy laser to short!!!
; done: - left as is - aftr playthru game starts at higher difficulty?
; done: star wars boss shot not visible - again? (gamescale oob
; done: Nothing done - VecFever sometimes starts "faulty" VecFever not working
; done: removed TEST_ALL_SHOTS thru bigs with a single "normal" enemy - also shots can gostraight "thru"
; done: achievment arrows are on third page (down) not 1
; done: Minestorm results mae fighter imune to 1 and 2 shots (sometimes)
; done: after falcon achievement in level dunno 86 -> I reached boss No 2
;      -> than died in Boss No two > and chrash!
; done: dont reach falcon on fast death!!!
; done: VECfever load game not working anymore?
; done: scoring of dynamic minestorm "destroyed cash counter 
; done: bank 1 must be shortened by 65 byte BEFORE $8000
; done: tripple shot has shot 2 icon
; done: achiemevemt on shop areout of whack
; done: shop crashes
; done: changed 1 rabbit is too easy
; done: drunken should switch off on death
; done: add pause status string for drunken!
; done: measure minestorm and 
; done: differentiate speed -> reward
; done: achievement: 1) drunken -> enable SHOT 3 drop
; done: achievemvemt: faster than XXX - dunno!
; done: on level 54 (2 small shields) i could not hit the moeny sucker boss!!! (four shot + scoopies
; done: Drunken Timer (1byte)
;       1 achievement byte (for minestorm achievments)
; done: todo "activate" drunken
; done: big bug was not hit when only one other alien was presnt
; Helmut
; done: (brighter)          Beim Feuerwerk (Bonus) kÃ¶nnte die abschieÃŸende Kugel (aus der sich dann die Explosion bildet) 
;           lÃ¤nger fliegen und sich noch deutlicher von der Explosion absetzen (grÃ¶ÃŸere Kugel, andere Helligkeit, â€¦).
; done:          Den Astronaut im Intro etwas frÃ¼her ein- und spÃ¤ter wieder ausblenden, so dass er eine lÃ¤ngere Strecke lÃ¤uft.
; done:  Anstelle von â€“S und â€“B ein S- bzw. B- (hatte ich vor lÃ¤ngerer Zeit einmal vorgeschlagen und du wolltest es evtl. angehen. Ist aber nicht so wichtig.)
; done: Shop: Evtl. Sound, wenn man etwas nicht kaufen kann, weil zum Beispiel der Speed schon maximal ist.
; done?: to test
;        on VecFever - Once the highscore show (down) crashed.
;        some wrongly initialied? Not reproducable!


Seems to work!
    secret? rate sucker 3 9(still) not working???
    Its BOTH!!!
    -> todo correct text - or only do one!
    Shouldn't that be buy superbomb in shop?
    secretDodger2                     db       "SECRET: Dodger 2x",$80



; fixed: noise button 2 exit on "settings"
; fixed: noise when collecting shot1/2 with immunity enabled
; fixed: lock gives sound even if not buyable (to many)
; changed: power costs now 6000
; changed: lock costs now 8000
; changed: promotion above 3 gold star gives now a cash/score bonus
; fixed: ignoring perfect bonus - in bonus display collect "bomb" (or dollar) than the display changes to "xx bonus collected)
; fixed: money collect resets vecVox output
; not verified! Playing the game: i noted a random "silence" of my Atarivox+ ( around levels 31/32). 
;     I unplugged it and pugged it: it worked again for a time, and then, the same symptoms occured.
; done: in higher difficulties SOME from intro go directly to attack patten?
;       should that also happen in kamikaze level (atm yes)?
; done: change boss behavious slightly in hifgher difficulties?
; ....
; done than flash to bank 0
;    save game...
;    saving also on VecFever!
;    on loading leave out overwriting:
;    highscores/option/secrets/achievements....
;    save in pause:
;    no achievements
;    no highscore saving
; done: demo mode reaches up to boss! - was testing mode with power == 6 _> much faster everything
; done candle



done: lives - Bonus not working?
      9 lives not possible?

laser not great with shielded enemies - sometimes only the shield is hhit!

Level announce one level to few

crash

done: level 33 normal - scoopies die out of thin air?

!!!to test vecfever save??

done: not nice - difficulty is seperate
      Perhaps I should add hardcore/non hardcore as a seperate criteria, not within the difficulty selection - that will make it more clear.

make hardcore more difficult on "Loop"

on the highscore screen, the tie fight "leans" in the wrong direction!
objectEnemy 2245


TODO - init IRQ to 1 on start!???
das 'beim 2. mal geht es' hier ist aber das problem, dass es im moment nur nach kaltstart in bank 3 startet, ansonsten mit der IRQ-line des letzten programms.
Zumindest sieht es stark danach aus, dass es init. werden muss und ich bisher dachte das wird automatisch immer zurÃ¼ckgesetzt (kein reset hier beim wechsel
tst192k zu vectorblade via menÃ¼..'


done: ToTest: RollOver achievement -> code change!



!!!George
    In shop "bullet" counter (bar) can go negative
    Can not reproduce!

- VecFever support


beautifying
-----------
if final memory allows it -> different failure enemies!
                          -> malus lose rank marker

Nico:
Perhaps Itï¿½s possoble to add a line like ï¿½Welcome to grumpy Alienï¿½s Suppliesï¿½ when entering the store.

sound with super diamond?

intro animation: i think it would be a good idea here to do what you did with the boss fights:- have 
a eg. 3 second duration at the start of the intro animation where you cannot skip the animation via 
button press, so that it is not skipped by mistake as it starts, and also, after the 3 seconds if the 
player presses the button to skip the intro animation, it would look better (more professional) if the screen 
went black/music stops for eg. 0.5 or 1 second before displaying the title menu screen


8 3rd boss (the death star), i notice when i hit him with my weapon (i think i had triple shot), 
that he makes a 'jerking' movement now, at his top half (of the circle of his body) i assume this is 
something new you added? well to throw in my opinion, it felt to me like the jerk is a bit too

Nico
    On the desktop screen you begin with greetings, which is kind, but it would be more informative 
    to show the different bonus items first.
    I'd love to see a really short introduction text, like "Captain V. Tiberius Rex - 
    you are the last hope to rescue the galaxy from the Alien invasion...." on this screen.

- vtk beta: sound effects - fading?

- bonus selection as jumptable 256*2

- triangles on desktopn top/bottom not equal?

- in demo mode also do a high score table?

- add beta tester credits

- do level select -> and hide it again

- scrolling smoother (y) in intro text?


INFO:
spawn sound -> channel 2
spawn shot -> channel 2
explosion sound enemy -> channel 3
shop sounds -> channel 3
Achievement/Secret -> all channels
player death explosion -> all channels
megafiends/saurcer -> channel 1
Extra collected -< channel 1
bug shots -> channel 2
bonus/malus/money/rank -> channel 1


Dodger diamonds = 5 diamonds!
Bomb diamonds single!




ACHIEVEMENT_FLAG_BYTE1_SNIPER_RANK3 = %00000001 ; checked at the end of each game
ACHIEVEMENT_FLAG_BYTE1_SNIPER_RANK2 = %00000010
ACHIEVEMENT_FLAG_BYTE1_SNIPER_RANK1 = %00000100
ACHIEVEMENT_FLAG_BYTE1_SCORER_RANK5 = %00001000 ; checked at the end of each game
ACHIEVEMENT_FLAG_BYTE1_SCORER_RANK4 = %00010000
ACHIEVEMENT_FLAG_BYTE1_SCORER_RANK3 = %00100000
ACHIEVEMENT_FLAG_BYTE1_SCORER_RANK2 = %01000000
ACHIEVEMENT_FLAG_BYTE1_SCORER_RANK1 = %10000000

ACHIEVEMENT_FLAG_BYTE2_COLLECTOR_RANK5 = %00000001 ; checked at the start of each shop
ACHIEVEMENT_FLAG_BYTE2_COLLECTOR_RANK4 = %00000010
ACHIEVEMENT_FLAG_BYTE2_COLLECTOR_RANK3 = %00000100
ACHIEVEMENT_FLAG_BYTE2_COLLECTOR_RANK2 = %00001000
ACHIEVEMENT_FLAG_BYTE2_COLLECTOR_RANK1 = %00010000
ACHIEVEMENT_FLAG_BYTE2_GREEDY = %00100000 ; check when collected / bought
ACHIEVEMENT_FLAG_BYTE2_9LIVES = %01000000 ; checked when a live is bought
ACHIEVEMENT_FLAG_BYTE2_ALL    = %10000000 ; checked at the end of each game

ACHIEVEMENT_FLAG_BYTE3_BLADEMASTER_RANK5 = %00000001 ; checked each roll over
ACHIEVEMENT_FLAG_BYTE3_BLADEMASTER_RANK4 = %00000010
ACHIEVEMENT_FLAG_BYTE3_BLADEMASTER_RANK3 = %00000100
ACHIEVEMENT_FLAG_BYTE3_BLADEMASTER_RANK2 = %00001000
ACHIEVEMENT_FLAG_BYTE3_BLADEMASTER_RANK1 = %00010000
ACHIEVEMENT_FLAG_BYTE3_TRIPPLE = %00100000 ; checked on EXTRA
ACHIEVEMENT_FLAG_BYTE3_QUADRO  = %01000000
ACHIEVEMENT_FLAG_BYTE3_LASER   = %10000000

ACHIEVEMENT_FLAG_BYTE4_OFFICER_RANK4 = %00000001 ; checked on officer level up! (after shop)
ACHIEVEMENT_FLAG_BYTE4_OFFICER_RANK3 = %00000010
ACHIEVEMENT_FLAG_BYTE4_OFFICER_RANK2 = %00000100
ACHIEVEMENT_FLAG_BYTE4_OFFICER_RANK1 = %00001000
ACHIEVEMENT_FLAG_BYTE4_SPY_RANK4  = %00010000 ; check when secret is discovered
ACHIEVEMENT_FLAG_BYTE4_SPY_RANK3  = %00100000
ACHIEVEMENT_FLAG_BYTE4_SPY_RANK2  = %01000000
ACHIEVEMENT_FLAG_BYTE4_SPY_RANK1  = %10000000

ACHIEVEMENT_FLAG_BYTE5_NOT_DONE1  = %00000001 ; bit "number" 0-7 
ACHIEVEMENT_FLAG_BYTE5_NOT_DONE2  = %00000010 ; up that "secret message" was read already!
ACHIEVEMENT_FLAG_BYTE5_NOT_DONE3  = %00000100
ACHIEVEMENT_FLAG_BYTE5_CHALLENGER_RANK4 = %00001000 ; check after challenge
ACHIEVEMENT_FLAG_BYTE5_CHALLENGER_RANK3 = %00010000
ACHIEVEMENT_FLAG_BYTE5_CHALLENGER_RANK2 = %00100000
ACHIEVEMENT_FLAG_BYTE5_CHALLENGER_RANK1 = %01000000
ACHIEVEMENT_FLAG_BYTE5_BIGGEST_LOSS     = %10000000 ; check on shot on collect

Achievement rewards are permanent
a) achievements

- hit percentage (min 1000 shots) above 70% - Sniper Ranke 3 - start with bullet +1
- hit percentage (min 1000 shots) above 80% - Sniper Ranke 2 - start with bullet +1
- hit percentage (min 1000 shots) above 90% - Sniper Ranke 1 - start with bullet +1
- score: 100000: Scorer Rank 5: player speed +1
- score: 500000: Scorer Rank 4: player speed +1
- score: 1000000: Scorer Rank 3: player speed +1
- score: 2500000: Scorer Rank 2: player speed +1
- score: 5000000: Scorer Rank 1: player speed +1

- achievements Money collector Rank 5-> 5000 reward: + 100 credits startup
- achievements Money collector Rank 4-> 10000 reward: + 200 credits startup
- achievements Money collector Rank 3-> 25000 reward: + 300 credits startup
- achievements Money collector Rank 2-> 50000 reward: + 500 credits startup
- bug money -> discover BUG money roll over!, Money collector Rank 1 reward: + 750 credits on startup
- achievement when speed, rate, bullet are all full GREEDY -> start with 2 shot!
- reach 9 lives: enable bonus drop "LIVE" 
- get them all (highest ranks on all): new RANK Officer GREAT DEFENDER!

- player easy thru: Blademaster Rank 5 rewards -> chose to start at normal / buy laser in shop
- player normal thru: Blademaster Rank 4 -> chose to start at hard
- player hard thru: Blademaster Rank 3 -> chose to start at impossible
- player impossible thru: Blademaster Rank 2 -> chose to start at super impossible
- player super impossible thru: Blademaster Rank 1 -> congrats!
- weapon get tripple shot: 	Weapon trippler -> unlock buy tripple weapon in shop
- weapon get quad shot: 	Weapon Quadrupel -> unlock buy quad weapon in shop
- weapon get blaster shot: 	Weapon Blaster -> unlock buy blaster weapon in shop

- Rank:  LIEUTENANT: Officer Rank 4: start game with armor
- score: ADMIRAL: Officer Rank 3: enable shop buy RANK (1000)
- score: ADMIRAL 1 SILVER STAR: Officer Rank 2:  start with autofire
- score: ADMIRAL 3 GOLD STAR: Officer Rank 1: start with timer +10s
(found in one game!)
- secrets: discover 2 secrets: SPY RANK 4: start with one super bomb
- secrets: discover 4 secrets: SPY RANK 3: start dodger permanently with x2
- secrets: discover 6 secrets: SPY RANK 2: buy bomb permanently added to shop
- secrets: discover all secrets: SUPER SPY: get a "pocket shop" (press button 1 at the end of level -> enter shop)

- challenge: get 2000 bonus: Challenger Rank 4 -> start with rate
- challenge: get 8000 bonus: Challenger Rank 3 -> start with rate
- challenge: get 16000 bonus: Challenger Rank 2 -> start with rate
- challenge: get 256000 bonus: Challenger Rank 1 -> start with rate
- weapon drops from laser to 1 shot: Biggest loss! -> unlock buy weapon immunity 1 in shop for 100 

37 Achievments!








---

DONE Secrets
	Secret rewards are for current game only
	implemented tested %00000001 3 times in a row -S -> current scoopies are shielded (one "life")
	implemented tested %00000010 3 times -rate -> one superbomb -> unlock buy bomb in shop (800 credits)
	implemented tested %00000100 3 times in a row -B -> display extended stats diamond counter / super bomb count)
	implemented tested %00001000 3 times in a row -rate -> enable "constant" x2 in dodger
	implemented tested %00010000 Spell EXTRA in correct order -> immediate laser (normal bonus in between allowed)
	implemented tested %00100000 collect 3 fifties (money) in a row -> money sucker dropy money after death! (200)
	implemented tested %01000000 collect rank marker in correct order -> enable "constant" x5 in dodger

	implemented NOT tested <secret secret!> collect 3 scoops in a row in correct order -> enable scoopy lock


Five UFOs must pass, than the mother appeaers, which drops the big money!

Collecting letters in the words order, gives you something extra!
Order ranks from slow to fast, enhances your Minestorm score greatly!

Three times in a row of something bad - gives you something good!

The money sucker can drop huge amounts of money when killed - provided you collect 150 credits with three consecutive drops.

Collect 50 diamonds to enter the super diamond level!


Three times sucker makes them stay after a warp!

Finishing 100 levels on easy make you immune to 1 Shots.
Finishing 100 levels on normal make you immune to 2 Shots.


---

How to build bonus anims:
- best, use an already established bonus and start from there.
- start and endpoint must be kept intact (start: 0,0 ; end is start of circle draw)
- draw the bonus
- "circle" bonus do a x-axis rotation of 360 degrees with 16 steps first 0-8 steps, enlarged by 1.5
- "rectangle" z axis rotation 15 steps, enlarged by 1.27
- "triangle" y axis 15 steps, first 0-8
- "3d" x axis, 15
- build a smartlist with "jump on last move (and circle Bonus as continue list)
- use only the generated sources for 0-8 (inclusive)

How to build new enemies: enlarged by different values, first enemies by 1.14, some with 1.2857
- best, use an already established enemy and start from there.
- draw 
- start point lowest point and must be a move
- after ortation "fix the startpoint (move)
- generate sources with "no position move" checked
- do a x-axis rotation of 360 degrees with 7 steps, clockwise (check checkbox)
- delete last (same as first) frame
- ensure same start position
- use only the generated sources for 0-8 (inclusive)

Thoughts:

Achievments 
 - points
 - levels
 - ranks
 - timed meteor storms
 - diamond collect
 - hitpercentage (only above xxx shots/levels)

Achievments bonus
 - start with:
  * more bullets
  * some money
  * faster
  * faster shots
  * better weapon
  * select "level"
  * select difficulty
  * show more "bonus" (like bomb)
  * full weapon
  * full ALL
  * remove weapon 1 drops
  * enable weapon 3 drops
  * etc
  * minestorm speed



Secrets
-> to discover
- extra in order
- extra in reverse order
- level without "intro" shooting
- collect baddies *3 -> same
- collect rank markers in order

-> results
- *2 /*5 in meteor storm
- screen bomb
- ability to buy a super bomb
- ability to see # of super bombs in pause


what from what
--------------
Warblade - title and concept
Galaxians - appearence of enemies (in some levels)
Battlestar Galactica - music
Galaga - ship
Starflight one - Queen text
Sinistar - wave two
 - bug
 - ship 1, ship 2
 - boss
Star Wars - wave three
 - ship 1,2,3
Star Trek - wave four
 - ship 1,2,3
 - wave 81 - Tribbles
 - boss text
Douglas Adams -> Cash bomb 42
Moving stars -> Tacscan
Major Havoc?


;difficult levels:
; - easy
; lasers go "thru", laser strength = 2
; hp - 1
; shots -2
; attack patterns count -1
; attack pattern - 1
; NO: boss hp /2
; bug hp /2
; normal shot damage = 2
; super shot = 10
; bugs spawn - 1
; scoopies do not collide with enemies/debris
;
; - normal
; normal settings, lasers go not thru, laser strength = 2
; normal shot damage = 1
; super shot = 7
;
; - hard
; lasers go not "thru", laser strength = 1
; hp  +1
; shots +2
; attack patterns count + 1
; attack pattern + 1
; boss hp 
; bug hp 
; normal shot damage = 1
; super shot = 6
;
; - impossible
; lasers go not "thru", laser strength = 1/2
; hp + 3
; shots max
; attack patterns count max
; attack pattern +2
; normal shot damage = 1
; super shot = 5
; boss hp *2
; bug hp 


Enemies - Intro
----------------
Enemies are defined with an EnemyDefinition.

                    struct   EnemyDefinition 
                    ds       ANGLE8_TABLE,2              ; if zero -> BigBug 
                    ds       BUG_ENEMY_HP, 0 
                    ds       ENEMY_STRENGTH,1             ; see above 
                    ds       WAIT_ANIM_TABLE,2 
					ds 	     ENEMY_BULLET_SPEED, 1 ; bug only (for now), lower nibble speed, uppernibble #xnnn, x= 1 can fire missiles
					ds       ADDITIONAL_TYPE_INFO,1
                    end struct 

As of now two different enemies exist
a) "normal" enemies
b) Big bugs

Normal enemies
---
- enter in patterns
- behavior of pattern and intro can be modified with "ADDITIONAL TYPE"
- normal behavior:
  - intro via a pattern
  - after pattern a "delay" is done (enemy invisible)
  - enemy enters screen at a random position on thetop of the screen
  - enemy goes to its waiting position
    - waiting position: 
      20 different positions, where enemies wait and "wobble"
      waiting positions can be defined per level (pointer to waiting position table)
  - from waiting positions attack patterns are randomly initiated
    (count of attack pattern using enemies at the same time can be set via level information)
  - enemies can shoot (count of maximum shots per level canbe set per level)
  - probably of shooting (and of bonus drop) can be set per level

The normal behavoiour of an enemie can be modified by "ADDITINAL TYPE" definitions, as of now:

TYPE_NONE = 0
TYPE_DIRECT_WAIT = %00000001 - does not enter a "delay", will not be invisible, from last "intro pattern" position, the enemy moves to waiting position  
TYPE_DONT_SHOOT =  %00000010 - this enemy can not shoot - never!
TYPE_DONT_ATTACK = %00000100 - this enemy will not initiate an attack pattern (all three combined can be used to define "blockers")
TYPE_DONT_WAIT =   %00001000 - this enemy behaves in a "normal" level like a "kamikaze" attacker (it does not enter a waiting position after intro pattern - it "vanishes" instead)
                               this can be used to have larger intro waves - but still restrict the overall enemy count to 20 on screen!


Enemies

Enemies are defined with an EnemyDefinition.

struct EnemyDefinition 
 ds ANGLE8_TABLE,2          ; if zero -> BigBug 
 ds BUG_ENEMY_HP, 0 
 ds ENEMY_STRENGTH,1        ; HP
 ds WAIT_ANIM_TABLE,2 
 ds ENEMY_BULLET_SPEED, 1   ; bug only (for now), lower nibble speed, uppernibble #xnnn, x= 1 can fire missiles
 ds ADDITIONAL_TYPE_INFO,1
end struct

As of now two different enemies exist
a) "normal" enemies
b) Big bugs

Normal enemies
â€“ enter the game in patterns
â€“ behavior of pattern and intro can be modified with "ADDITIONAL_TYPE"
â€“ normal behavior:

    â€“ intro via a pattern
    â€“ after pattern a "delay" is done (enemy invisible)
    â€“ enemy enters screen at a random position at the top of the screen
    â€“ enemy goes to its waiting position

â€“ waiting position:

    â€“ 20 different positions, where enemies wait and "wobble"
    â€“ waiting positions can be defined per level (pointer to waiting position table)
    â€“ from waiting positions attack patterns are randomly initiated
    (count of attack pattern using enemies at the same time can be set via level information)
    â€“ enemies can shoot (count of maximum shots per level can be set per level)
    â€“ probability of shooting (and of bonus drop) can be set per level

The normal behaviour of an enemie can be modified by "ADDITIONAL TYPE" definitions, as of now:

    TYPE_NONE = 0
    TYPE_DIRECT_WAIT = %00000001
    â€“ does not enter a "delay", will not be invisible, from last "intro pattern" position, the enemy moves to waiting position
    TYPE_DONT_SHOOT = %00000010
    â€“ this enemy can not shoot â€“ never!
    TYPE_DONT_ATTACK = %00000100
    â€“ this enemy will not initiate an attack pattern
    (all three combined can be used to define "blockers")
    TYPE_DONT_WAIT = %00001000
    â€“ this enemy behaves in a "normal" level like a "kamikaze" attacker
    (it does not enter a waiting position after intro pattern â€“ it "vanishes" instead)
    this can be used to have larger intro waves â€“ but still restrict the overall enemy count to 20 on screen!

Blocker example:

The above shown blockers "protect" the attacking enemies. Each blocker in the example has about 20 hitpoints.



Attack Pattern
see also http://vectrexproject.malban.de/10th-of-march-2018-vectorblade-ii
Addition to attack patterns 
â€“ attack pattern are really something one would nowadays call "scripted enemy behaviour". 
Anyway attack sub-pattern definition can now also include "loops" â€“ so the order of sub-patterns 
(in one attack pattern) is not necessarily linear anymore.



Level Definition
----------------

1. List of levels
................
Is a list of all levels (word list of pointers).
List is 0000 terminated - if 0000 is reached the game starts from level 0.

2. Level Definition
...................
                    struct   LevelDefinition 
                    ds       LEVEL_INTRO_PATTERN,2 
                    ds       LEVEL_WAITING_PATTERN,2 
                    ds       LEVEL_ATTACK_PATTERN,2 ; pointer to attack pattern list - pointer to 4 pointers to attack patterns
                    ds       LEVEL_ENEMY_DEFINITION,2 
                    ds       LEVEL_MAX_SHOTS_IN_AIR, 1 
                    ds       LEVEL_MAX_ATTACK_PATTERNS, 1 
                    ds       LEVEL_TYPE, 1 
                    ds       LEVEL_BULLET_BORDER, 1       ; how probable is it that enemies shoots 
                    ds       LEVEL_BONUS_BORDER, 1        ; how probable is it that bonus drops 
                    ds       LEVEL_BUG_DEFINITION, 2 
                    ds       LEVEL_BUG_COUNT, 1 
                    ds       LEVEL_SHOT_DELAY_BUG, 1 
                    end struct 

LEVEL_INTRO_PATTERN one word pointer to level intro patterns, definition see there.
LEVEL_WAITING_PATTERN one word pointer to level waiting patterns, definition see there.
LEVEL_ATTACK_PATTERN one word pointer to level attack patterns, definition see there.
LEVEL_ENEMY_DEFINITION one word pointer to level enemy definition, definition see there.

LEVEL_MAX_SHOTS_IN_AIR
Number of enemy bullets that are allowed to be "in the air" at one time.
Capped to maximum number of enemy bullets (10).

LEVEL_MAX_ATTACK_PATTERNS
Number of enemies that are allowed to enter an attack pattern at the same time (no limit).

LEVEL_TYPE
A combination of following values and bit fields
Value (only one of these at a given time)
LEVEL_TYPE_NORMAL   =        1 
LEVEL_TYPE_KAMIKAZE =        2 
LEVEL_TYPE_BIGGY    =        3 
LEVEL_TYPE_BONUS    =        4                            
LEVEL_TYPE_BOSS1    =        5 
LEVEL_TYPE_BOSS2    =        6
LEVEL_TYPE_BOSS3    =        7 
LEVEL_TYPE_BOSS4    =        8 

And bits in combination of the above entry:
LEVEL_TYPE_SHOP_AFTER  =     %10000000 
LEVEL_TYPE_WARP_AFTER  =     %01000000 
LEVEL_TYPE_DONT_SHOOT_WHILE_WAITING  =     %00100000 
LEVEL_APPEAR_AT_WAITING =     %00010000  

LEVEL_BULLET_BORDER
A probablility value that an enemy will shoot.
Only one enemy can shoot in each game round.
A random value is determined (0-255) if the random value is equal or less the value given here - 
the shot will be initiated.

LEVEL_BONUS_BORDER
A probablility value that a dead enemy will drop a bonus
A random value is determined (0-255) if the random value is equal or less the value given here - 
a bonus will spawn.

LEVEL_BUG_DEFINITION
If there this is a bug, a pointer (word) to the bug definition is given. A level can only have ONE
kind of bug.

LEVEL_BUG_COUNT
Count of bugs this level has (only if bug level).

LEVEL_SHOT_DELAY_BUG
Delay value (in game rounds) a bug will delay between shots (not random!).

3. LEVEL_INTRO_PATTERN
......................
Intro pattern is 0000 terminated list of 3 values of an intro line.
			struct IntroLine
			 ds LINE_PATTERN_DEF, 2
			 ds LINE_PATTERN_INVERS ,1
			 ds LINE_PATTERN_ENEMY_COUNT ,1
			end struct

LINE_PATTERN_DEF
Is a word pointer to a intro pattern definition (see there).

LINE_PATTERN_INVERS
If 0 pattern is taken with original values, if !=0, then
all x positions in the pattern are mirrored.

LINE_PATTERN_ENEMY_COUNT
A count of enemies this intro pattern is applied to.
The actual enemy information is taken from the LEVEL_ENEMY_DEFINITION of the level definition.

4. LEVEL_WAITING_PATTERN
........................
Is a list of positions (y,x) where the enemies will "wait".
Each spawned enemy receives a unique id. 
Only 20 enemies are allowed at any one time MAX.
The unique id of the enemy (0-19) is an index to the y,x position within this list of waiting coordinates.
		 
5. LEVEL_ATTACK_PATTERN
.......................
Is a list of exactly 4 attack pattern definition.
If an enemy of a level is randomly chosen to attack the player, than randomly one of the four attack
patterns that are valid for the level is chosen and used.
Each one of the four entries is a pointer to an ATTACK_DEFINITION (see there).

6. LEVEL_ENEMY_DEFINITION
.........................
Is simple "counted" list of enemy definitions.
It consists of two parts
a) a count (byte) of enemy definitions to following
b) a list of (count) enemy definitions to use in the level
While the level is initialized (and the enemies enter with the intro pattern) above counter of 
enemies is kept and the counter modulo the "count"(of enemies defined) is matched to the enemy list.
e.g.
A enemy definition list for a level looks like:
                    db       2                            
                    dw       enemy1 , enemy2
Than e.g. the first ten enemies would be enemy1, enemy2, enemy1, enemy2, enemy1, enemy2, enemy1, enemy2, enemy1, enemy2.
The modulo ensures that always an enemy definition is available however many enemies spawn and also allows for
small lists.

7. INTRO_PATTERN_DEF
....................
A intro pattern definition consists of several parts.
	struct IntroPattern
	byte delayBetweenSpawn
	byte initialDelay
	PatternLineList  (zero terminated list of)
	end struct

delayBetweenSpawn
Is a delay value between enemies spawning (in game rounds).
This delay should be chosen in regard to the movementspeed of the enemies.

initialDelay
Delay befor this pattern starts (in game rounds). This might necessary to defined
when more than one pattern definitions are used.

PatternLineList
A 0000 terminated list of PatternLine definitions.
This is no pointer! The following bytes represent the structure PatternLine until a line
end is reached (adders are both 0000 AND the angle must be 0)
The definition is as:
                    struct   PatternLine 
						ds       P_YPOS, 1 
						ds       P_XPOS, 1 
						ds       P_YADD, 2 
						ds       P_XADD, 2 
						ds       P_ANGLE,1 also loop destintion
						ds       P_PATTERN_TARGET_RADIUS ,1 
                    end struct 
In short:
 P_YPOS, P_XPOS (bytes) starting coordinates.
 P_YADD, P_YADD (words) hi/lo values to add to a 16bit coordinate.
                        if both are zero this is taken as "end of definition"
			The values are "adds" to go from the above given P_YPOS, P_XPOS to the next lines P_YPOS, P_XPOS values.
			The size of these values are determined by the excel sheet and there using the provided "speed"
P_ANGLE	       (byte)  The angle to be used for the enemy display (0-7)
P_PATTERN_TARGET_RADIUS (byte)  RADIUS to check whether target position is reached, depends on speed.

Note:
It is possible to loop within one pattern definition list.
In order to initate a loop, following conditions must be met
- P_YADD, P_XADD must both be 0 (words)
- the P_ANGLE than denotes the (1 based) pattern definition count within this PatternLineList.
- if you loop the P_YPOS, P_XPOS of the loop initiating pattern should be the same as the 
  P_YPOS, P_XPOS of the loop destination pattern
- if you build loops within intro patterns, there is no way to "break" the loops, the
  enemies must be destroyed by the player, otherwise the enemies do not leave of their own!

  Definitions can be build using the excel sheet provided.
More explanation can be seen at: http://vectrexproject.malban.de/10th-of-march-2018-vectorblade-ii

8.ATTACK_DEFINITION
...................
An attack definition is a terminated (by 0000 as first two bytes) list of different types of patterns.
The different single pattern definitions one complete attack pattern can have are applied
one after another untill the list is terminated (or the attacker is dead).

Depending on the kind of pattern the meaning of the data in one pattern line differs.
One pattern line is 4 bytes long.

All have in common, that the second byte of the definition describes the type of attack pattern.
Following three types are possible:

SINGLE_ATTACK_TARGET_ENEMY_PATTERN 
SINGLE_ATTACK_ABSOLUT_PATTERN  
SINGLE_ATTACK_RELATIVE_PATTERN 

In addition to above three pattern a fourth type is available: SINGLE_ATTACK_JUMP
with that definition the next pattern line can be accessed via a "jump" to a different pattern.
Thus reuse of sub parts of complete patternlist definitions is possible.
The structure used:
				struct   SingleAttackPatternLine 
                    			ds (byte)      not used
                    			ds (byte)      SINGLE_ATTACK_PATTERN_TYPE
					ds (word)      address of patternline in attack pattern
				end struct 


a) SINGLE_ATTACK_TARGET_ENEMY_PATTERN (4 bytes)
This is the most simple attack type.
That pattern moves the enemy from the current position to the position the player resides at the moment
the pattern is initiated.

The structure used:
				struct   SingleAttackPatternLine 
                    			ds (byte)      SINGLE_ATTACK_SPEED
                    			ds (byte)      SINGLE_ATTACK_PATTERN_TYPE
					ds (byte)      fill up to 4 bytes with 0
				end struct 

SINGLE_ATTACK_SPEED
Speed with which to attack. All coordinates and movement are calculated in game in relation to
start position and player position.

b) SINGLE_ATTACK_ABSOLUT_PATTERN (4 bytes)
This pattern moves the enemy from the current position to the absolut position denoted by the pattern.

The structure used:
				struct   SingleAttackPatternLine 
                    			ds  (byte)     SINGLE_ATTACK_SPEED
                    			ds  (byte)     SINGLE_ATTACK_PATTERN_TYPE
					ds  (byte)     YPOS
					ds  (byte)     XPOS
				end struct 

c) SINGLE_ATTACK_RELATIVE_PATTERN (4 bytes)
This pattern moves the enemy from the current position to coordinates relative to its current position.
The structure used:
				struct   SingleAttackPatternLine 
                    			ds  (byte)     not used
                    			ds  (byte)     SINGLE_ATTACK_PATTERN_TYPE
					ds  (word)     RELATIVE_MOVEMENT_PATTERNLIST
					ds  (byte)     XPOS
				end struct 

Since relative movements are in general more complex than the other attack patterns, this one
uses an addition structure to define relative movement.
The additional structure pointed to by RELATIVE_MOVEMENT_PATTERNLIST (see there) consists of a number of
relative movement definitions. With this "outsourcing" reuse of sub-parts is possibly (e.g. looping).


9. RELATIVE_MOVEMENT_PATTERNLIST
................................
Is a list of terminated (0000) 8 byte wide relative pattern definitions.

The definition is as:
                    struct   PatternLine 
						ds       P_YPOS, 1 ; relative
						ds       P_XPOS, 1 ; relative
						ds       P_YADD, 2 ; movement 16 bit
						ds       P_XADD, 2 ; movement 16 bit
						ds       P_ANGLE,1 ; 0-7
						ds       P_PATTERN_TARGET_RADIUS ,1 
                    end struct 

The definition is very similar to the definition of PatternLine for the intro patterns.

In short:
 P_YPOS, P_XPOS (bytes) destination relative coordinates.
 P_YADD, P_YADD (words) hi/lo values to add to a 16bit coordinate.
 			The values are "adds" to go from the above given P_YPOS, P_XPOS to the next lines P_YPOS, P_XPOS values.
			The size of these values are determined by the excel sheet and there using the provided "speed"
P_ANGLE	       (byte)  The angle to be used for the enemy display (0-7)
P_PATTERN_TARGET_RADIUS (byte)  RADIUS to check whether target position is reached, depends on speed.


Definitions can be build using the excel sheet provided.
More explanation can be seen at: http://vectrexproject.malban.de/10th-of-march-2018-vectorblade-ii

---
Player shots
As of now player shots can be one of:
- 1 shots
- 2 shots
- 3 shots
- 4 shots
- blaster shots
- laser shots
(perhaps later 1* shot, 2* shot and 3* shot - which are "old style" shots)
all of the above can be combined with one or two scoopies.

all of the above can be combined with or without autofire.

There are in general 4 different behavious possible flavours.
- full damage
- partial damage
- timed damage

Full damage shots
1 shot and blaster shot are full damage shots.
This means the complete damage the shot can make are done when the shot hits an enemy.
The shots is removed from the object list and is gone for good

Partial damage shots
2,3,4 shot are partial damage shots.
This means, when the shot hits an enemy the enemy recieves as much damage as it can absorb till is destroyed. If the shot strength (2,3,4) is more than the enemy needs to be killed, the 
shot is reduced in strength and continues.
The internal handling of these shots has chanegd from beta 5 to beta 6.
Befor the reduction was alsways done in "1" steps. Now the strength is consumed as by as much as 
the enemy strength in one go. This gives more efficient collision detection. 
For optimization purposes, partial damage shots only are considered with "normal" enemies (see below).
For bosses and Bugs, these shots are treated as "full damage shots" - since the said enemies have "many" hitpoints and most of the time they would be consumed fully anyway.

Timed damage
Lasers do damage over time. If the player shots, the laser is active for a short amount of time
(10 rounds). Each round the laser does a small amount of damage.
Timed shots with autofire fire continuesly!

Scoopies in general always shoot the same kind of shot as the player.
If the shot type is partial, each of the three shots (scoopy left, player, scoopy rigth) can have
different partial shots - depending on how much shot power has been used to destroy enemies.

Scoopy shots in general
Programmatically the scoopy shot is an extention of the player shot - and not a distinct "shot object" of its own. Each player shot has two "flags" whether it also has a scoopy shot on the right and/or/left side. The flag consists of 4 bits. These for bits also encode the "partial" shot information.
The collision detection of the scoopy shots is also done in relation to the player shot (add/subtract certain position information)

Collision detection
There are different kind of enemy objects. For each kind the collision detection might be handled differently.

Enemy types:
"normal" enemy
shield enemy
Bug enemy
Boss
Swarm
Debris

Collision detection - normal enemy
The collision detection is realized in a subroutine call from each enemy behaviour.
The subroutine in general tests only TWO selected shots if they hit or not.
The shot selection (which of all possible shots should be used) to be tested are located in different parts of the code - depending on the stage of the game. The selection itself is realized in two macros called INITIALZE_SHOT_TEST_MOVE_BLOCK_1 (and 2).
Per default these are called in the background star "moveto" wait loop.
The selection considers information about the general location (if the shot is below the lowest enemy - it is not (ever) tested) to the enemies, whether it has hit in the round "before" and the general object distance of the other to be tested shot.
The test collision subroutine finaly lead to another macro call "COL_DETECT_ENEMY_SHOTS_ENEMY" which realizes the collision detection.
For easier y testing, all enemy objects have the lowest (vector-) position as a starting point, the starting point also is always x = 0 - centered!
After initial y position testing - the "interesting" x position testing is done using positive only coordinates (+$80 to all positions). This reliefs some of the hassels dealing with two-complement 8bit numbers and Z, C and V flags.
In general the enemy ship (x)position is taken as the base. If the player shot is within the radius of the bullet (within one radius to the left or one radius to the right) the shot hit the enemy.
The radius (due to internal comparissons) is unique to each shot.
(This made more sense, when I used 1,2,3,4 horizontal shot design instead of the now used vertical design) Because of the result of the above comparisson if not hit, the routine knows whether the shot is to the left or right of the enemy. If scoopies are present, than a further testing can be done.
It is assumed that the radius for the scoopy shot is always the same as the "main" shot. If the shot is within 3 radius of the x position of the enemy (and a scoopy on the correct side is present) than the scoopy scored a hit.
Depending on the shot type, damage is reduced from the enemy hitpoints, the shot power is reduced or the shot is removed.

Laser specialty
Due to the nature of the laser (and difficulty level - see below), the laser has to be shortened, when it hits an enemy (to the lowest enemy it can possibly hit).
This makes it necessary to have a special treatment for the laser. 
The above logic is done for all enemies - but instead of removing hitpoints and destroying enemies - the location of the enmies is compared to a special laserEnemy position. After all enemies have been tested, the lowest enemy is known - and only that enemies is reduced (and maybe killed).
The location of the lowest enemy is given to the drawing routine of the laser, and it is only drawn up to that position. This logic is also done (if appropriate) for the left and right scoopy.

Collision detection - Shield enemy
Same as above. But the shot is always fully consumed, and the shield does not take damage.

Collision detection - Bug enemy
Nearly the same as above, but the final detection is made in another set of macros "COL_DETECT_ENEMY_SHOTS_ENEMY_BUG". There some bug specialties are considered, like:
- bugs move differently - so the internal position is represented differently
- bugs can have up to 255 hitpoints (normal enemy max = 31), so the hitpoints are calculated differently
- due to optimization shots are not treated as partial shots

Collision detection - Boss
Each boss has its own collision detection, since they are all "completly" different. 
Due to optimization shots are not treated as partial shots

Collision detection - Swarm
The Swarm of boss 1 is different in many aspects.
The sheer amount of enemies and the "near" position to the player, and the small size of the enemy makes it necessary to test each shot with each enemy. Chosing only "several" shots to test results in many shots just "going thru" the enemies. This strategy makes the swarm extremly sensitive to shots (more exact than any other collision detection used within VB).
It slows things down - but it has been balanced out, so that the refresh rate is within limits.

Collision detection - Debris
Debris really is a special kind of enemy, which can not be hit by bullets.
No collision detection done here.

Difficulty level
As of now there are four difficulty levels:
EASY
NORMAL
HARD
IMPOSSIBLE

The difficulty has impact on the behaviour of player shots.

EASY
shot 1,2,3,4: damage per bullet = 3
blaster shot: damage = 10
laser: = 2 damage per round

NORMAL
shot 1,2,3,4: damage per bullet = 2
blaster shot: damage = 7
laser: 1 damage per round

HARD
shot 1,2,3,4: damage per bullet = 1
blaster shot: damage = 6
laser: 1 damage per round

IMPOSSIBLE
shot 1,2,3,4: damage per bullet = 1
blaster shot: damage = 5
laser: 1 damage every second round

----

Cartridge design A
- 64k ROM, a 32k bankswitched with PB6
- 16k RAM from 8000 - bfff
- DS2431 for saving

 Eprom   Vectrex
 a0-a14     a0-14
  a15        pb6
  ~CE         a15

 RAM    Vectrex
 a0-a13     a0-13
  ~CE         NOT a15

DS 2431  Vectrex 
 GND =     +5v with 3,3K resistor
  data     PB6

 

Cartridge design B
- 128k ROM, a 48k bankswitched with PB6 = 96K used by vectrex (32k not usable)
- DS2431 for saving

 Eprom   Vectrex
 a0-a15     a0-15
  a16        pb6
  ~CE         a14 AND a15


DS 2431  Vectrex 
 GND =     +5v with 3,3K resistor
  data     PB6

























Where is what!

########################################################################

Main0
-----
	includes:
		- Wait_Recal_noShift (from mh_havoc.asm)
		- queryJoystick
		- smartlist 7  (normal enemies/Bonus etc)
		- smartlist 16 (Tile Set)
		- smartlist 50 (Boss intro)
		- sound (sfx) 
		- draw_synced_list

 - dodger.asm
 Dodger - text + Landing on asteroid part

 - mh*.*
 Major Havoc

 - desktop.asm
 The Desktop Scenery

 -> titleScroll.asm
 The Desktop text scroll

 -> particle.asm
 The Desktop particle

 -> bossXCode.asm
 Intro to boss fights
 
Ready player One (using an own FONT)

########################################################################

Main1
	includes:
		- Wait_Recal_noShift
		- queryJoystick
		- smartlist 7  (normal enemies/Bonus etc)
		- smartlist 16 (used for ABC)
		- all font 5 stuff
		- sound (sfx) 

starBehaviour (simple, included player move/init)
test for rank advancement (return from shop) - and show that
 -> includes "ranks.i"
 
calculation of gameOverFinalScoring (from bank 3)

-> include "sound.asm"
-> include "arkosPlayerAllChannel.i"
-> music
all things musik/sound


 -> include highScoreEdit.asm
 highscore edit (new)
  -> include "FastABC.asm" (Smartlist 16 ABC)

 -> include shop.asm
 all things shop

most achievement testing done 
  - endOfGameAchievementTest
  - afterChallengeAchievementTest
  - enterShopAchievementTest
  - exitshopAchievementTest
  - levelRollOverAchievementTest
  - levelDoneAchievementTest
  
black hole (circle data, debris data, fighter data)

 -> include "superdiamond.i"
 The Super diamond "level"
 
achievement display (title screen)

########################################################################

Main2
	includes:
		- JoyDigitalHorizontal00
		- JoyDigitalVertical00
		- getButtonState
		- all font 5 stuff
		- smartlist 7  (normal enemies/Bonus etc)
		- smartlist 50 (Boss intro)
		- scoopy save/retrieve


init routines for cartridge start, first calibration jump

options screen

 -> include "flashSupport.asm"
 
desktop screen loop (calling oneVBTitleStep in bank 0)

dodger result printing
super diamond result printing
challenge result printing
boss result printing
warp failure intro printing
level intro printing

word to decimal (string)
leadingZeroToSpace
initTitleRAM
csa_to_bcd

highscore checking -> endter high score edit (gameOver00)

game over loop (not done)

 -> include pause.asm
 all things PAUSE
 
random money sucker init
spawn random money (for mothership destroy)

rank marker spawning

boss "head" function (button status joytick etc)

gameloop for bank 2 (player shot + bonus display)

Smart bomb stuff

all data for bonus/boss
all boss display code
all bonus display codeall plaer shot display code
"perfect"/"achievement" fireworks

all achievement strings (for title)

4096 byte for flash "Ram", including first values

########################################################################

Main2
	includes:
		- scoopy save/retrieve
		- smartlist 7  (normal enemies/Bonus etc)
		- all font 5 stuff
		- smartlist 7  (normal enemies/Bonus etc)


main entry -> jump to bank 1

main game loop

add score routines (respecting multiplyer)
main rount subroutine (for non main game "levels")

setup routines (initGame initLevel init this and that)
display static bonus
failure level handling
dying loop
player/boss explosion stuff
boss fight "player" loop stuff

spawn 42 notes for cash bomb

 -> include "messenger.asm"
 all Strings for "messages"

 - include boss*
 all boss inits
 
 -> include "calibration.asm"
 all calibrations
 
 -> include bonus.asm
 all bonus inits
 
 -> ainclude object.asm/enemies...
 all enemy handling
 
 -> include "f_Levels.asm"
 all level information
 
 -> include "dodger.asm"
 init dodger
 
 
 
 
 